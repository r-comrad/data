import{u as k}from"./vue-router-95605d56.js";import{a as p,U as b}from"./axios-2f89820f.js";import{e as L,v as S}from"./runtime-dom.esm-bundler-7b46b8fa.js";import{u as g}from"./vuex.esm-bundler-49e4e032.js";import{o as i,c as d,J as y,a as s,K as m,L as $,M as u,G as h,U as T,H as M,P as v,b as f,y as x}from"./runtime-core.esm-bundler-2db63ed2.js";const w=s("h5",null,"Решения:",-1),H={class:"table"},N=s("thead",null,[s("tr",null,[s("th",{scope:"col",style:{width:"30%"},class:"border-end"},"Тест"),s("th",{scope:"col"},"Вердикт")])],-1),C={class:"border-end"},P=s("p",{class:"text-secondary"},"Для того что бы обновить состояние тестов перезагрузите страницу",-1),U={__name:"SubmissionList",props:["submissions"],setup(_){g();const l={NUN:"Проверка",CE:"Ошибка компиляции",Nu:"Тестируется",WA:"Неправильный ответ",OK:"Полное решение"};return(r,n)=>(i(),d(m,null,[w,y(s("table",H,[N,s("tbody",null,[(i(!0),d(m,null,$(_.submissions,o=>(i(),d("tr",null,[s("td",C,u(o.test===-1?" ":o.test),1),s("td",null,u(l[o.verdict]===void 0?o.verdict:l[o.verdict]),1)]))),256))])],512),[[L,_.submissions.lenght!==0]]),P],64))}},B={class:"modal",id:"send_submission",tabindex:"-1"},G={class:"modal-dialog"},O={class:"modal-content"},D=s("div",{class:"modal-header"},[s("h5",{class:"modal-title"},"Послать решение"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),I={class:"modal-body"},J={class:"mb-3"},V=s("label",{class:"form-label"},"Выберите язык",-1),E=s("option",{selected:"",value:".cpp"},"C++20",-1),R=s("option",{value:".py"},"Python 3.10",-1),K=s("option",{value:".pac"},"Pascal",-1),A=[E,R,K],F={class:"mb-3"},W=s("label",{class:"form-label"},"Загрузите файл",-1),j=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть",-1),q={__name:"SendSubmission",props:["task_id"],emits:["reGet"],setup(_,{emit:l}){const r=_,n=h(".cpp"),o=h(),t=()=>{console.log({problem_id:r.task_id,user_id:JSON.parse(localStorage.getItem("user")).id,filename:"some"+n.value,file:o.value[0]}),p.post(b+"/submit",{problem_id:r.task_id,user_id:JSON.parse(localStorage.getItem("user")).id,filename:"some"+n.value,file:o.value[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{l("reGet")})};return(c,e)=>(i(),d("div",B,[s("div",G,[s("div",O,[D,s("div",I,[s("form",null,[s("div",J,[V,y(s("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a)},A,512),[[S,n.value]])]),s("div",F,[W,s("input",{class:"form-control",type:"file",onChange:e[1]||(e[1]=a=>{o.value=a.target.files})},null,32)])])]),s("div",{class:"modal-footer"},[j,s("button",{type:"button",class:"btn btn-primary",onClick:t,"data-bs-dismiss":"modal"},"Отправить на проверку ")])])])]))}},z={key:0,class:"ps-5"},Q={class:"row"},X={class:"col-8"},Y={class:"my-3"},Z=["innerHTML"],ss=s("h5",null,"Входные данные",-1),ts=["innerHTML"],es=s("h5",null,"Выходные данные",-1),os=["innerHTML"],ls=s("div",{class:"row gx-2 mt-1"},[s("div",{class:"col-6 text-secondary fw-light"}," STDIN "),s("div",{class:"col-6 text-secondary fw-light"}," STDOUT ")],-1),as={class:"row gx-2 mt-1"},ns={class:"col-6"},is=["innerHTML"],ds={class:"col-6"},rs=["innerHTML"],cs={class:"row mt-5"},_s=s("div",{class:"col-3 d-grid gap-2 me-auto"},[s("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#send_submission"},"Послать ")],-1),us={class:"col-5 text-end"},ms=s("br",null,null,-1),ps={class:"col-4 my-3"},bs={key:1},$s={__name:"ProblemsPage",setup(_){const l=k(),r=g(),n=(c=!1)=>{let e=r.state.tasks.problems_list.find(a=>a.id===Number(l.params.id));!e.legend||c?p.get(b+"/get_problem/"+l.params.id+"/"+JSON.parse(localStorage.getItem("user")).id).then(a=>{t.value=a.data.problem[0],r.commit("update_single_problem",{id:t.value.id,new_value:t.value})}):t.value=e},o=()=>{r.state.tasks.problems_list.length===0?p.get(b+"/get/if/competition_problem/competition_id="+l.params.c_id).then(c=>{c.data.competition_problems.forEach(e=>{e.id=e.problem_id}),r.commit("set_problems_list",c.data.competition_problems),n()}):n()},t=h();return T(()=>{o()}),M(l,()=>{l.name==="problem_page"&&o()}),(c,e)=>(i(),d(m,null,[t.value?(i(),d("div",z,[s("div",Q,[s("div",X,[s("h3",Y,u(t.value.name),1),s("p",{innerHTML:t.value.legend},null,8,Z),ss,s("p",{innerHTML:t.value.input_format},null,8,ts),es,s("p",{innerHTML:t.value.output_format},null,8,os),ls,(i(!0),d(m,null,$(t.value.tests,a=>(i(),d("div",as,[s("div",ns,[s("div",{class:"p-2",style:{"background-color":"#f8f8f8"},innerHTML:"<pre>"+a.input+"</pre>"},null,8,is)]),s("div",ds,[s("div",{class:"p-2",style:{"background-color":"#f8f8f8"},innerHTML:"<pre>"+a.output+"</pre>"},null,8,rs)])]))),256)),s("div",cs,[_s,s("div",us,[v(" Лимит времени: "+u(t.value.time_limit)+" c. ",1),ms,v(" Лимит памяти: "+u(t.value.memory_limit)+" MB ",1)])])]),s("div",ps,[f(U,{submissions:t.value.submission},null,8,["submissions"])])])])):(i(),d("div",bs," Перезагрузите страницу что бы получить текст задачи ")),f(q,{task_id:x(l).params.id,onReGet:e[0]||(e[0]=a=>n(!0))},null,8,["task_id"])],64))}};export{$s as default};
