import{r as u,j as n}from"./index-cfa7943e.js";import{M as b,a as j}from"./Modal-49a1a758.js";import{F as p,E as S}from"./Form-df0725bd.js";import{f as i,m as f,n as x}from"./utils-3ad0bc39.js";import{T as h}from"./Table-214de0f1.js";import{b as E}from"./bootstrap.bundle.min-21484380.js";import"./Grow-65f5fe91.js";import"./config-67b08cc3.js";import"./axios-4a70c6fc.js";import"./utils-978ca1b9.js";function B(){const[a,r]=u.useState([]),[m,c]=u.useState({});u.useEffect(()=>{i().then(t=>{r(t)})},[]);function l(t){m.id&&(t.id=m.id),x(t).then(()=>{i().then(e=>{r(e)})})}function d(t,e){r(e?[...a.sort((s,o)=>s[t]>o[t]?1:s[t]<o[t]?-1:0)]:[...a.sort((s,o)=>s[t]<o[t]?1:s[t]>o[t]?-1:0)])}return n.jsxs(n.Fragment,{children:[n.jsx(b,{title:"Предмет",connected_with:"subject_modal",children:n.jsx(p,{elements:[{name:"name",label:"Название",type:S.INPUT,settings:{}}],onSubmit:l,instance:m})}),n.jsx(j,{connected_with:"subject_modal",button_text:"Создать предмет",additionalClasses:"m-3",preOpen:()=>{c({})}}),n.jsx(h,{elements:a,table_fields:[{label:"Название",name:"name"}],onEdit:t=>{c(t),new E.Modal(document.getElementById("subject_modal"),{}).show()},Sort:d,NeedEdit:!0,NeedDelete:!0,onDelete:t=>{f(t).then(()=>{i().then(e=>{r(e)})})}})]})}export{B as default};
