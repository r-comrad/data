import{u as k}from"./vue-router-42ccad0b.js";import{a as m,U as p}from"./axios-940a6ca7.js";import{e as $,v as S}from"./runtime-dom.esm-bundler-b9ecab8c.js";import{u as f}from"./vuex.esm-bundler-af09927f.js";import{o as a,c as i,J as g,a as s,K as _,L as y,M as n,G as b,H as N,P as h,b as v,y as x}from"./runtime-core.esm-bundler-292d2fca.js";const w=s("h5",null,"Решения:",-1),T={class:"table"},L=s("thead",null,[s("tr",null,[s("th",{scope:"col",style:{width:"30%"},class:"border-end"},"Тест"),s("th",{scope:"col"},"Ведрдикт")])],-1),M={class:"border-end"},C={__name:"SubmissionList",props:["submissions"],setup(r){return f(),(o,e)=>(a(),i(_,null,[w,g(s("table",T,[L,s("tbody",null,[(a(!0),i(_,null,y(r.submissions,t=>(a(),i("tr",null,[s("td",M,n(t.test===-1?" ":t.test),1),s("td",null,n(t.verdict==="NUN"?"Проверка":t.verdict),1)]))),256))])],512),[[$,r.submissions.lenght!==0]])],64))}},H={class:"modal",id:"send_submission",tabindex:"-1"},U={class:"modal-dialog"},B={class:"modal-content"},D=s("div",{class:"modal-header"},[s("h5",{class:"modal-title"},"Послать решение"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),I={class:"modal-body"},J={class:"mb-3"},O=s("label",{class:"form-label"},"Выберите язык",-1),P=s("option",{selected:"",value:".cpp"},"C++20",-1),V=s("option",{value:".py"},"Python 3.10",-1),R=[P,V],E={class:"mb-3"},F=s("label",{class:"form-label"},"Загрузите файл",-1),G=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть",-1),K={__name:"SendSubmission",props:["task_id"],setup(r){const o=r,e=b(".cpp"),t=b(),l=()=>{m.post(p+"/submit",{problem_id:o.task_id,user_id:JSON.parse(localStorage.getItem("user")).id,fileName:e.value,file:t},{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{console.log(d)})};return(d,c)=>(a(),i("div",H,[s("div",U,[s("div",B,[D,s("div",I,[s("form",null,[s("div",J,[O,g(s("select",{class:"form-select","onUpdate:modelValue":c[0]||(c[0]=u=>e.value=u)},R,512),[[S,e.value]])]),s("div",E,[F,s("input",{class:"form-control",type:"file",onChange:c[1]||(c[1]=u=>{t.value=u.target.files})},null,32)])])]),s("div",{class:"modal-footer"},[G,s("button",{type:"button",class:"btn btn-primary",onClick:l,"data-bs-dismiss":"modal"},"Отправить на проверку ")])])])]))}},j={key:0,class:"ps-5"},q={class:"row"},z={class:"col-8"},A={class:"my-3"},Q=s("h5",null,"Входные данные",-1),W=s("h5",null,"Выходные данные",-1),X=s("div",{class:"row gx-2 mt-1"},[s("div",{class:"col-6 text-secondary fw-light"}," STDIN "),s("div",{class:"col-6 text-secondary fw-light"}," STDOUT ")],-1),Y={class:"row gx-2 mt-1"},Z={class:"col-6"},ss=["innerHTML"],ts={class:"col-6"},es=["innerHTML"],os={class:"row mt-5"},ls=s("div",{class:"col-3 d-grid gap-2 me-auto"},[s("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#send_submission"},"Послать")],-1),as={class:"col-5 text-end"},is=s("br",null,null,-1),ns={class:"col-4 my-3"},ds={key:1},ps={__name:"ProblemsPage",setup(r){const o=k(),e=f(),t=b(e.state.tasks.problems_list.find(l=>l.id===Number(o.params.id)));return e.state.tasks.problems_list.length===0&&m.get(p+"/get_all_competition/"+JSON.parse(localStorage.getItem("user")).id+"/"+o.params.c_id).then(l=>{e.state.tasks.problems_list.length===0&&e.commit("set_problems_list",l.data.problems),t.value=e.state.tasks.problems_list.find(d=>d.id===Number(o.params.id))}),N(o,()=>{t.value=e.state.tasks.problems_list.find(l=>l.id===Number(o.params.id)),e.state.tasks.problems_list.length===0&&m.get(p+"/get_all_competition/"+JSON.parse(localStorage.getItem("user")).id+"/"+o.params.c_id).then(l=>{e.state.tasks.problems_list.length===0&&e.commit("set_problems_list",l.data.problems),t.value=e.state.tasks.problems_list.find(d=>d.id===Number(o.params.id))})}),(l,d)=>(a(),i(_,null,[t.value?(a(),i("div",j,[s("div",q,[s("div",z,[s("h3",A,n(t.value.name),1),s("p",null,n(t.value.legend),1),Q,s("p",null,n(t.value.input_format),1),W,s("p",null,n(t.value.output_format),1),X,(a(!0),i(_,null,y(t.value.tests,c=>(a(),i("div",Y,[s("div",Z,[s("div",{class:"p-2",style:{"background-color":"#f8f8f8"},innerHTML:c.input},null,8,ss)]),s("div",ts,[s("div",{class:"p-2",style:{"background-color":"#f8f8f8"},innerHTML:c.output},null,8,es)])]))),256)),s("div",os,[ls,s("div",as,[h(" Лимит времени: "+n(t.value.time_limit)+" c. ",1),is,h(" Лимит памяти: "+n(t.value.memory_limit)+" MB ",1)])])]),s("div",ns,[v(C,{submissions:t.value.submission},null,8,["submissions"])])])])):(a(),i("div",ds," Страница загружается, выберите другую задачу из списка ")),v(K,{task_id:x(o).params.id},null,8,["task_id"])],64))}};export{ps as default};
