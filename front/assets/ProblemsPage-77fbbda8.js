import{u as k}from"./vue-router-95605d56.js";import{a as b,U as h}from"./axios-2f89820f.js";import{e as L,v as S}from"./runtime-dom.esm-bundler-7b46b8fa.js";import{u as g}from"./vuex.esm-bundler-49e4e032.js";import{o as i,c as d,J as y,a as s,K as m,L as $,M as u,P as p,G as v,U as T,H as M,b as f,y as x}from"./runtime-core.esm-bundler-2db63ed2.js";const w=s("h5",null,"Решения:",-1),H={class:"table"},N=s("thead",null,[s("tr",null,[s("th",{scope:"col",style:{width:"30%"},class:"border-end"},"Тест"),s("th",{scope:"col"},"Вердикт")])],-1),C={class:"border-end"},P={__name:"SubmissionList",props:["submissions"],setup(_){g();const o={NUN:"Проверка",CE:"Ошибка компиляции",Nu:"Тестируется",WA:"Неправильный ответ",OK:"Полное решение"},a=()=>{location.reload()};return(n,r)=>(i(),d(m,null,[w,y(s("table",H,[N,s("tbody",null,[(i(!0),d(m,null,$(_.submissions,t=>(i(),d("tr",null,[s("td",C,u(t.test===-1?" ":t.test),1),s("td",null,u(o[t.verdict]===void 0?t.verdict:o[t.verdict]),1)]))),256))])],512),[[L,_.submissions.lenght!==0]]),s("p",{class:"text-secondary"},[p("Для того что бы обновить состояние тестов "),s("a",{onClick:a,href:"#"},"перезагрузите"),p(" страницу")])],64))}},U={class:"modal",id:"send_submission",tabindex:"-1"},B={class:"modal-dialog"},G={class:"modal-content"},O=s("div",{class:"modal-header"},[s("h5",{class:"modal-title"},"Послать решение"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),D={class:"modal-body"},I={class:"mb-3"},J=s("label",{class:"form-label"},"Выберите язык",-1),V=s("option",{selected:"",value:".cpp"},"C++20",-1),E=s("option",{value:".py"},"Python 3.10",-1),R=s("option",{value:".pac"},"Pascal",-1),K=[V,E,R],A={class:"mb-3"},F=s("label",{class:"form-label"},"Загрузите файл",-1),W=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть",-1),j={__name:"SendSubmission",props:["task_id"],emits:["reGet"],setup(_,{emit:o}){const a=_,n=v(".cpp"),r=v(),t=()=>{console.log({problem_id:a.task_id,user_id:JSON.parse(localStorage.getItem("user")).id,filename:"some"+n.value,file:r.value[0]}),b.post(h+"/submit",{problem_id:a.task_id,user_id:JSON.parse(localStorage.getItem("user")).id,filename:"some"+n.value,file:r.value[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{o("reGet")})};return(c,e)=>(i(),d("div",U,[s("div",B,[s("div",G,[O,s("div",D,[s("form",null,[s("div",I,[J,y(s("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l)},K,512),[[S,n.value]])]),s("div",A,[F,s("input",{class:"form-control",type:"file",onChange:e[1]||(e[1]=l=>{r.value=l.target.files})},null,32)])])]),s("div",{class:"modal-footer"},[W,s("button",{type:"button",class:"btn btn-primary",onClick:t,"data-bs-dismiss":"modal"},"Отправить на проверку ")])])])]))}},q={key:0,class:"ps-5"},z={class:"row"},Q={class:"col-8"},X={class:"my-3"},Y=["innerHTML"],Z=s("h5",null,"Входные данные",-1),ss=["innerHTML"],ts=s("h5",null,"Выходные данные",-1),es=["innerHTML"],os=s("div",{class:"row gx-2 mt-1"},[s("div",{class:"col-6 text-secondary fw-light"}," STDIN "),s("div",{class:"col-6 text-secondary fw-light"}," STDOUT ")],-1),ls={class:"row gx-2 mt-1"},as={class:"col-6"},ns=["innerHTML"],is={class:"col-6"},ds=["innerHTML"],rs={class:"row mt-5"},cs=s("div",{class:"col-3 d-grid gap-2 me-auto"},[s("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#send_submission"},"Послать ")],-1),_s={class:"col-5 text-end"},us=s("br",null,null,-1),ms={class:"col-4 my-3"},ps={key:1},ys={__name:"ProblemsPage",setup(_){const o=k(),a=g(),n=(c=!1)=>{let e=a.state.tasks.problems_list.find(l=>l.id===Number(o.params.id));!e.legend||c?b.get(h+"/get_problem/"+o.params.id+"/"+JSON.parse(localStorage.getItem("user")).id).then(l=>{t.value=l.data.problem[0],a.commit("update_single_problem",{id:t.value.id,new_value:t.value})}):t.value=e},r=()=>{a.state.tasks.problems_list.length===0?b.get(h+"/get/if/competition_problem/competition_id="+o.params.c_id).then(c=>{c.data.competition_problems.forEach(e=>{e.id=e.problem_id}),a.commit("set_problems_list",c.data.competition_problems),n()}):n()},t=v();return T(()=>{r()}),M(o,()=>{o.name==="problem_page"&&r()}),(c,e)=>(i(),d(m,null,[t.value?(i(),d("div",q,[s("div",z,[s("div",Q,[s("h3",X,u(t.value.name),1),s("p",{innerHTML:t.value.legend},null,8,Y),Z,s("p",{innerHTML:t.value.input_format},null,8,ss),ts,s("p",{innerHTML:t.value.output_format},null,8,es),os,(i(!0),d(m,null,$(t.value.tests,l=>(i(),d("div",ls,[s("div",as,[s("div",{class:"p-2",style:{"background-color":"#f8f8f8"},innerHTML:"<pre>"+l.input+"</pre>"},null,8,ns)]),s("div",is,[s("div",{class:"p-2",style:{"background-color":"#f8f8f8"},innerHTML:"<pre>"+l.output+"</pre>"},null,8,ds)])]))),256)),s("div",rs,[cs,s("div",_s,[p(" Лимит времени: "+u(t.value.time_limit)+" c. ",1),us,p(" Лимит памяти: "+u(t.value.memory_limit)+" MB ",1)])])]),s("div",ms,[f(P,{submissions:t.value.submission},null,8,["submissions"])])])])):(i(),d("div",ps," Перезагрузите страницу что бы получить текст задачи ")),f(j,{task_id:x(o).params.id,onReGet:e[0]||(e[0]=l=>n(!0))},null,8,["task_id"])],64))}};export{ys as default};
