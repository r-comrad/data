import{j as e,L as o,r,O as d}from"./index-d01e31b1.js";import{G as i,D as m}from"./utils-978ca1b9.js";import"./bootstrap.bundle.min-a81abbd8.js";function x({title:a,bootstrap_icon_name:n}){const s=i();return e.jsx("nav",{className:"navbar navbar-expand-lg bg-body-tertiary",children:e.jsxs("div",{className:"container-fluid",children:[e.jsxs(o,{className:"navbar-brand",to:"/",children:[e.jsx("i",{className:`bi ${n} me-3`}),a]}),e.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsxs("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[e.jsx("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"}),e.jsx("p",{className:"p-0 m-0",children:s?`${s.surname} ${s.name[0]}.`:""})]})]})})}function u({tooltipOpen:a,text:n,icon:s,href:t}){return e.jsx("li",{className:"nav-item",children:e.jsx(o,{to:t,className:"nav-link py-3 border-bottom rounded-0",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{className:`bi ${s}`,style:{fontSize:"24px"}}),e.jsx("span",{className:`ms-2 flex-grow-1 ${a?"":"invisible"}`,style:{transition:"opacity 1s"},children:n})]})})})}function p({elements:a}){const[n,s]=r.useState(!1),t=i();return e.jsxs("div",{className:"d-flex flex-column flex-shrink-0 bg-body-tertiary full-height",onMouseEnter:l=>{s(!0)},onMouseLeave:()=>{s(!1)},children:[e.jsx("ul",{className:"nav nav-pills nav-flush flex-column mb-auto text-center",children:a.map((l,c)=>e.jsx(u,{text:l.text,icon:l.icon,tooltipOpen:n,href:l.href},c))}),e.jsxs("div",{className:"dropdown border-top",children:[e.jsx("a",{href:"#",className:"d-flex align-items-center justify-content-center p-3 link-body-emphasis text-decoration-none dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:e.jsx("i",{className:"bi bi-person-circle",style:{fontSize:"24px"}})}),e.jsx("ul",{className:"dropdown-menu text-small shadow",children:t?e.jsx("li",{children:e.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>{m(),window.location.reload()},children:"Выход"})}):""})]})]})}function j(){const[a,n]=r.useState([{text:"Домашняя страница",icon:"bi-house",href:"/"}]);return r.useEffect(()=>{const s=i(),t=[];s&&(s.role.includes("teacher")&&t.push({text:"Журнал",icon:"bi-book",href:"/journal"}),s.role.some(l=>l.includes("add"))&&t.push({text:"Управление",icon:"bi-gear",href:"/admin"})),n([...a,...t])},[]),e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"KysSys",bootstrap_icon_name:"bi-cpu"}),e.jsxs("div",{className:"d-flex full-height",children:[e.jsx("div",{className:"full-height",children:e.jsx(p,{elements:a})}),e.jsx("div",{className:"flex-grow-1 overflowable mx-5",children:e.jsx(d,{})})]})]})}export{j as default};
