import{r,j as e}from"./index-ac9c09ba.js";function g({elements:l,table_fields:s,onDelete:m,additional_classes:j,onEdit:k,NeedDelete:x,NeedEdit:u,Sort:b}){const[p,d]=r.useState(s),[c,a]=r.useState({});r.useEffect(()=>{let t={};s.forEach(n=>{n.sortDown=!1,n.checkbox&&(t[n.name]=[])}),a(t),d(s)},[]);const y=p.map(t=>e.jsx("th",{style:t.width?{width:`${t.width}%`}:{},children:t.checkbox?e.jsx("button",{className:`btn btn-${t.checkbox.btn_type?t.checkbox.btn_type:"success"} btn-sm`,onClick:()=>{var n;(n=t.checkbox)==null||n.onButtonClick(c[t.name])},children:t.label}):e.jsx("a",{className:"text-decoration-none text-dark",href:"#",onClick:n=>{n.preventDefault(),t.sortDown=!t.sortDown,b&&b(t.name,t.sortDown)},children:t.label})},t.name)),[o,i]=r.useState([]);function w(t,n){return n.valueProcessing?n.valueProcessing(t[n.name]):t[n.name]?t[n.name]:""}const C=l.map(t=>e.jsxs("tr",{children:[s.map(n=>n.checkbox?e.jsx("td",{children:e.jsx("input",{type:"checkbox",className:"form-check-input",onInput:h=>{h.currentTarget.checked?a({...c,[n.name]:[...c[n.name],t.id]}):a({...c,[n.name]:c[n.name].filter(N=>N!==t.id)})}})},n.name):e.jsx("td",{children:w(t,n)},n.name)),u?e.jsx("td",{children:e.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{k(t)},children:e.jsx("i",{className:"bi bi-pencil"})})}):null,x?e.jsx("td",{children:e.jsx("input",{type:"checkbox",className:"form-check-input",onInput:n=>{n.currentTarget.checked?i([...o,t.id]):i(o.filter(h=>h!==t.id))}})}):null]},t.id));return e.jsxs("table",{className:`table table-striped text-center ${j}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[y,u?e.jsx("th",{children:"Изменить"}):null,x?e.jsx("th",{children:e.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>{m(o)},children:"Удалить"})}):null]})}),e.jsx("tbody",{children:C})]})}export{g as T};
