import{u as k}from"./vue-router-42ccad0b.js";import{a as m,U as p}from"./axios-2f89820f.js";import{e as $,v as S}from"./runtime-dom.esm-bundler-b9ecab8c.js";import{u as f}from"./vuex.esm-bundler-af09927f.js";import{o as a,c as i,J as g,a as s,K as _,L as y,M as n,G as b,H as N,P as h,b as v,y as x}from"./runtime-core.esm-bundler-292d2fca.js";const w=s("h5",null,"Решения:",-1),T={class:"table"},L=s("thead",null,[s("tr",null,[s("th",{scope:"col",style:{width:"30%"},class:"border-end"},"Тест"),s("th",{scope:"col"},"Ведрдикт")])],-1),M={class:"border-end"},C={__name:"SubmissionList",props:["submissions"],setup(r){f();const l={NUN:"Проерка",CE:"Ошибка компиляции",Nu:"Тестируется",WA:"Неправильный ответ",OK:"Решение сдано"};return(o,t)=>(a(),i(_,null,[w,g(s("table",T,[L,s("tbody",null,[(a(!0),i(_,null,y(r.submissions,e=>(a(),i("tr",null,[s("td",M,n(e.test===-1?" ":e.test),1),s("td",null,n(l[e.verdict]===void 0?e.verdict:l[e.verdict]),1)]))),256))])],512),[[$,r.submissions.lenght!==0]])],64))}},H={class:"modal",id:"send_submission",tabindex:"-1"},O={class:"modal-dialog"},P={class:"modal-content"},U=s("div",{class:"modal-header"},[s("h5",{class:"modal-title"},"Послать решение"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),B={class:"modal-body"},D={class:"mb-3"},I=s("label",{class:"form-label"},"Выберите язык",-1),J=s("option",{selected:"",value:".cpp"},"C++20",-1),V=s("option",{value:".py"},"Python 3.10",-1),E=s("option",{value:".pac"},"Pascal",-1),K=[J,V,E],R={class:"mb-3"},A=s("label",{class:"form-label"},"Загрузите файл",-1),F=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть",-1),G={__name:"SendSubmission",props:["task_id"],setup(r){const l=r,o=b(".cpp"),t=b(),e=()=>{console.log(t.value[0]),m.post(p+"/submit",{problem_id:l.task_id,user_id:JSON.parse(localStorage.getItem("user")).id,filename:"some"+o.value,file:t.value[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{console.log(d)})};return(d,c)=>(a(),i("div",H,[s("div",O,[s("div",P,[U,s("div",B,[s("form",null,[s("div",D,[I,g(s("select",{class:"form-select","onUpdate:modelValue":c[0]||(c[0]=u=>o.value=u)},K,512),[[S,o.value]])]),s("div",R,[A,s("input",{class:"form-control",type:"file",onChange:c[1]||(c[1]=u=>{t.value=u.target.files})},null,32)])])]),s("div",{class:"modal-footer"},[F,s("button",{type:"button",class:"btn btn-primary",onClick:e,"data-bs-dismiss":"modal"},"Отправить на проверку ")])])])]))}},W={key:0,class:"ps-5"},j={class:"row"},q={class:"col-8"},z={class:"my-3"},Q=s("h5",null,"Входные данные",-1),X=s("h5",null,"Выходные данные",-1),Y=s("div",{class:"row gx-2 mt-1"},[s("div",{class:"col-6 text-secondary fw-light"}," STDIN "),s("div",{class:"col-6 text-secondary fw-light"}," STDOUT ")],-1),Z={class:"row gx-2 mt-1"},ss={class:"col-6"},ts=["innerHTML"],es={class:"col-6"},os=["innerHTML"],ls={class:"row mt-5"},as=s("div",{class:"col-3 d-grid gap-2 me-auto"},[s("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#send_submission"},"Послать")],-1),is={class:"col-5 text-end"},ns=s("br",null,null,-1),ds={class:"col-4 my-3"},cs={key:1},bs={__name:"ProblemsPage",setup(r){const l=k(),o=f(),t=b(o.state.tasks.problems_list.find(e=>e.id===Number(l.params.id)));return o.state.tasks.problems_list.length===0&&m.get(p+"/get_all_competition/"+JSON.parse(localStorage.getItem("user")).id+"/"+l.params.c_id).then(e=>{o.state.tasks.problems_list.length===0&&o.commit("set_problems_list",e.data.problems),t.value=o.state.tasks.problems_list.find(d=>d.id===Number(l.params.id))}),N(l,()=>{t.value=o.state.tasks.problems_list.find(e=>e.id===Number(l.params.id)),o.state.tasks.problems_list.length===0&&m.get(p+"/get_all_competition/"+JSON.parse(localStorage.getItem("user")).id+"/"+l.params.c_id).then(e=>{o.state.tasks.problems_list.length===0&&o.commit("set_problems_list",e.data.problems),t.value=o.state.tasks.problems_list.find(d=>d.id===Number(l.params.id))})}),(e,d)=>(a(),i(_,null,[t.value?(a(),i("div",W,[s("div",j,[s("div",q,[s("h3",z,n(t.value.name),1),s("p",null,n(t.value.legend),1),Q,s("p",null,n(t.value.input_format),1),X,s("p",null,n(t.value.output_format),1),Y,(a(!0),i(_,null,y(t.value.tests,c=>(a(),i("div",Z,[s("div",ss,[s("div",{class:"p-2",style:{"background-color":"#f8f8f8"},innerHTML:c.input},null,8,ts)]),s("div",es,[s("div",{class:"p-2",style:{"background-color":"#f8f8f8"},innerHTML:c.output},null,8,os)])]))),256)),s("div",ls,[as,s("div",is,[h(" Лимит времени: "+n(t.value.time_limit)+" c. ",1),ns,h(" Лимит памяти: "+n(t.value.memory_limit)+" MB ",1)])])]),s("div",ds,[v(C,{submissions:t.value.submission},null,8,["submissions"])])])])):(a(),i("div",cs," Страница загружается, выберите другую задачу из списка ")),v(G,{task_id:x(l).params.id},null,8,["task_id"])],64))}};export{bs as default};
