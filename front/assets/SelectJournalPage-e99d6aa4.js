import{u as p,r as o,j as s,c as f,b as x}from"./index-1325a463.js";import{F as b,E as i}from"./Form-d1d8f94e.js";import{u as h,C as S,M as E}from"./Card-e178aa71.js";import{G}from"./utils-b1014e2c.js";import{G as v}from"./utils-346fb4c0.js";function F(){const u=v(),c=h(),l=p(),[a,m]=o.useState([]);o.useEffect(()=>{G({teacher_id:u.id}).then(e=>{m(e)})},[]);function d(e){return e.map(t=>({text:t.grade.toString(),value:t.grade.toString()}))}function g(e){return e.map(t=>({text:t.subject,value:t.subject}))}function j({grade:e,subject:t}){const r=a.filter(n=>n.grade===e&&n.subject===t);r.length==0?c(x({type:"danger",text:"Нет журнала для этого класса и предмета"})):l(`/journal/${r[0].id}`)}return s.jsx("div",{className:"container",children:s.jsx("div",{className:"row justify-content-center align-items-center full-height",children:s.jsx("div",{className:"col-lg-4",children:s.jsxs(S,{children:[s.jsx(E,{}),a.length>0?s.jsx(b,{additionalClasses:"mt-3",elements:[{type:i.SMART_SELECT,name:"grade",label:"Класс",settings:{options:[...d(a)]}},{type:i.SMART_SELECT,name:"subject",label:"Предмет",settings:{options:[...g(a)]}}],onSubmit:e=>{j({grade:e.grade,subject:e.subject})},buttonText:"Открыть журнал"}):s.jsx(f,{})]})})})})}export{F as default};
