import{j as s,r as C}from"./index-1325a463.js";import{B as T}from"./utils-b1014e2c.js";var i=(r=>(r[r.INPUT=0]="INPUT",r[r.SELECT=1]="SELECT",r[r.CHECKBOX=2]="CHECKBOX",r[r.TEXTAREA=3]="TEXTAREA",r[r.RADIO=4]="RADIO",r[r.FILE=5]="FILE",r[r.SMART_SELECT=6]="SMART_SELECT",r))(i||{});function k({options:r,additionalClasses:d,disabled:t,required:l,multiple:n,size:p,onSelect:f}){return s.jsx("select",{className:`form-select ${d}`,disabled:t,required:l,multiple:n,size:p,onChange:u=>f?f(u):"",children:r.map(u=>s.jsx("option",{value:u.value,selected:u.selected,disabled:u.disabled,style:u.style,children:u.text},u.value))})}function O({required:r,disabled:d,checked:t,additionalClasses:l,onCheck:n}){return s.jsx("input",{required:r,type:"checkbox",checked:t,disabled:d,onChange:n,className:`form-check-input ${l}`})}function R({required:r,disabled:d,additionalClasses:t,value:l,cols:n,rows:p,onInput:f}){return s.jsx("textarea",{required:r,disabled:d,className:`form-control ${t}`,onInput:f,value:l,rows:p,cols:n})}function q({checked:r,connect_with:d,required:t,disabled:l,additionalClasses:n,onCheck:p}){return s.jsx("input",{type:"radio",className:`form-check-input ${n}`,required:t,disabled:l,name:d,checked:r,onChange:p})}function B({required:r,disabled:d,additionalClasses:t,multiple:l,onInput:n}){return s.jsx("input",{required:r,disabled:d,className:`form-control ${t}`,type:"file",multiple:l,onChange:n})}function L({options:r,additionalClasses:d,disabled:t,size:l,required:n,onSelect:p,multiple:f,initialSearch:u}){const[x,v]=C.useState(r);function o(h){v(r.map(m=>(m.text.includes(h)?m.style={...m.style,display:"block"}:m.style={...m.style,display:"none"},m)))}return C.useEffect(()=>{u&&o(u)},[]),s.jsxs("div",{children:[s.jsxs("div",{className:"input-group mb-3 input-group-sm",children:[s.jsx("span",{className:"input-group-text",children:s.jsx("i",{className:"bi bi-search"})}),s.jsx("input",{className:"form-control",type:"text",placeholder:"Поиск...",value:u,onInput:h=>{o(h.currentTarget.value)}})]}),s.jsx(k,{options:x,additionalClasses:d,disabled:t,size:l,required:n,onSelect:p,multiple:f})]})}function y({elements:r,additionalClassesButton:d,buttonText:t,horizontal:l,onSubmit:n,additionalClasses:p}){const[f,u]=C.useState({});function x(e){let a=e.settings,c=a.multiple?[]:a.options[0].value;return a.options.map(b=>{b.selected&&(a.multiple?c.push(b.value):c=b.value)}),c}function v(e){switch(e.type){case i.INPUT:return e.settings.value?e.settings.value:"";case i.SELECT:return x(e);case i.CHECKBOX:return e.settings.checked===void 0?!1:e.settings.checked;case i.TEXTAREA:return e.settings.value?e.settings.value:"";case i.RADIO:return e.settings.checked===void 0?!1:e.settings.checked;case i.FILE:return null;case i.SMART_SELECT:return x(e)}}C.useEffect(()=>{let e={};r.map(a=>{e[a.name]=v(a)}),u({...f,...e})},[]);function o(e,a){u({...f,[a]:e})}function h(e,a){return s.jsx(T,{placeholder:e.placeholder,value:e.value,disabled:e.disabled,type:e.type,min:e.min,max:e.max,required:e.required,additionalClasses:e.additionalClasses,onInput:c=>{o(c.currentTarget.value,a)}})}function m(e,a,c){c.multiple?o(Array.from(e.currentTarget.selectedOptions,b=>b.value),a):o(e.currentTarget.selectedOptions[0].value,a)}function j(e,a){return s.jsx(k,{options:e.options,additionalClasses:e.additionalClasses,disabled:e.disabled,required:e.required,multiple:e.multiple,size:e.size,onSelect:c=>{m(c,a,e)}})}function _(e,a){return s.jsx(q,{connect_with:e.connect_with,required:e.required,disabled:e.disabled,additionalClasses:e.additionalClasses,checked:e.checked,onCheck:c=>{o(c.currentTarget.checked,a)}})}function E(e,a){return s.jsx(O,{required:e.required,checked:e.checked,disabled:e.disabled,additionalClasses:e.additionalClasses,onCheck:c=>{o(c.currentTarget.checked,a)}})}function S(e,a){return s.jsx(R,{required:e.required,disabled:e.disabled,additionalClasses:e.additionalClasses,value:e.value,rows:e.rows,cols:e.cols,onInput:c=>{o(c.currentTarget.value,a)}})}function A(e,a){return s.jsx(B,{required:e.required,disabled:e.disabled,additionalClasses:e.additionalClasses,multiple:e.multiple,onInput:c=>{e.multiple?o(c.target.files,a):o(c.target.files[0],a)}})}function N(e,a){return s.jsx(L,{options:e.options,additionalClasses:e.additionalClasses,disabled:e.disabled,size:e.size,required:e.required,onSelect:c=>{m(c,a,e)},multiple:e.multiple,initialSearch:e.initialSearch})}const I=r.map(e=>{let a;switch(e.type){case i.INPUT:a=h(e.settings,e.name);break;case i.SELECT:a=j(e.settings,e.name);break;case i.CHECKBOX:a=E(e.settings,e.name);break;case i.TEXTAREA:a=S(e.settings,e.name);break;case i.RADIO:a=_(e.settings,e.name);break;case i.FILE:a=A(e.settings,e.name);break;case i.SMART_SELECT:a=N(e.settings,e.name);break}return e.type==i.CHECKBOX||e.type==i.RADIO?s.jsxs("div",{className:`${l?"me-3":"mb-3"} form-check`,children:[a,s.jsx("label",{className:"form-check-label",children:e.label})]},e.name):s.jsxs("div",{className:`${l?"me-3":"mb-3"}`,children:[s.jsx("label",{className:"form-label",children:e.label}),a]},e.name)});return s.jsxs("form",{className:`${l?"d-flex":""} ${p}`,children:[I,s.jsx("button",{className:`btn btn-primary ${d} ${l?"my-2":""}`,onClick:e=>{e.preventDefault(),n(f)},"data-bs-dismiss":"modal",children:t||"Submit"})]})}export{i as E,y as F};
